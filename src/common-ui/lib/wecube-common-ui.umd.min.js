(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["wecube-common-ui"]=t():e["wecube-common-ui"]=t()})("undefined"!==typeof self?self:this,(function(){return function(){var e={394:function(e){!function(t,n){e.exports=n()}(0,(function(){"use strict";var e=1e3,t=6e4,n=36e5,r="millisecond",a="second",i="minute",s="hour",o="day",l="week",u="month",c="quarter",d="year",f="date",h="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},v=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},$={s:v,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),a=n%60;return(t<=0?"+":"-")+v(r,2,"0")+":"+v(a,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),a=t.clone().add(r,u),i=n-a<0,s=t.clone().add(r+(i?-1:1),u);return+(-(r+(n-a)/(i?a-s:s-a))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:u,y:d,w:l,d:o,D:f,h:s,m:i,s:a,ms:r,Q:c}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},g="en",b={};b[g]=y;var _="$isDayjsObject",w=function(e){return e instanceof S||!(!e||!e[_])},x=function e(t,n,r){var a;if(!t)return g;if("string"==typeof t){var i=t.toLowerCase();b[i]&&(a=i),n&&(b[i]=n,a=i);var s=t.split("-");if(!a&&s.length>1)return e(s[0])}else{var o=t.name;b[o]=t,a=o}return!r&&a&&(g=a),a||!r&&g},k=function(e,t){if(w(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new S(n)},D=$;D.l=x,D.i=w,D.w=function(e,t){return k(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var S=function(){function y(e){this.$L=x(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[_]=!0}var v=y.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(D.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(p);if(r){var a=r[2]-1||0,i=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],a,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],a,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(t)}(e),this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return D},v.isValid=function(){return!(this.$d.toString()===h)},v.isSame=function(e,t){var n=k(e);return this.startOf(t)<=n&&n<=this.endOf(t)},v.isAfter=function(e,t){return k(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<k(e)},v.$g=function(e,t,n){return D.u(e)?this[t]:this.set(n,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,t){var n=this,r=!!D.u(t)||t,c=D.p(e),h=function(e,t){var a=D.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?a:a.endOf(o)},p=function(e,t){return D.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,y=this.$M,v=this.$D,$="set"+(this.$u?"UTC":"");switch(c){case d:return r?h(1,0):h(31,11);case u:return r?h(1,y):h(0,y+1);case l:var g=this.$locale().weekStart||0,b=(m<g?m+7:m)-g;return h(r?v-b:v+(6-b),y);case o:case f:return p($+"Hours",0);case s:return p($+"Minutes",1);case i:return p($+"Seconds",2);case a:return p($+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,t){var n,l=D.p(e),c="set"+(this.$u?"UTC":""),h=(n={},n[o]=c+"Date",n[f]=c+"Date",n[u]=c+"Month",n[d]=c+"FullYear",n[s]=c+"Hours",n[i]=c+"Minutes",n[a]=c+"Seconds",n[r]=c+"Milliseconds",n)[l],p=l===o?this.$D+(t-this.$W):t;if(l===u||l===d){var m=this.clone().set(f,1);m.$d[h](p),m.init(),this.$d=m.set(f,Math.min(this.$D,m.daysInMonth())).$d}else h&&this.$d[h](p);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[D.p(e)]()},v.add=function(r,c){var f,h=this;r=Number(r);var p=D.p(c),m=function(e){var t=k(h);return D.w(t.date(t.date()+Math.round(e*r)),h)};if(p===u)return this.set(u,this.$M+r);if(p===d)return this.set(d,this.$y+r);if(p===o)return m(1);if(p===l)return m(7);var y=(f={},f[i]=t,f[s]=n,f[a]=e,f)[p]||1,v=this.$d.getTime()+r*y;return D.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var r=e||"YYYY-MM-DDTHH:mm:ssZ",a=D.z(this),i=this.$H,s=this.$m,o=this.$M,l=n.weekdays,u=n.months,c=n.meridiem,d=function(e,n,a,i){return e&&(e[n]||e(t,r))||a[n].slice(0,i)},f=function(e){return D.s(i%12||12,e,"0")},p=c||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(m,(function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return D.s(t.$y,4,"0");case"M":return o+1;case"MM":return D.s(o+1,2,"0");case"MMM":return d(n.monthsShort,o,u,3);case"MMMM":return d(u,o);case"D":return t.$D;case"DD":return D.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(n.weekdaysMin,t.$W,l,2);case"ddd":return d(n.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(i);case"HH":return D.s(i,2,"0");case"h":return f(1);case"hh":return f(2);case"a":return p(i,s,!0);case"A":return p(i,s,!1);case"m":return String(s);case"mm":return D.s(s,2,"0");case"s":return String(t.$s);case"ss":return D.s(t.$s,2,"0");case"SSS":return D.s(t.$ms,3,"0");case"Z":return a}return null}(e)||a.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(r,f,h){var p,m=this,y=D.p(f),v=k(r),$=(v.utcOffset()-this.utcOffset())*t,g=this-v,b=function(){return D.m(m,v)};switch(y){case d:p=b()/12;break;case u:p=b();break;case c:p=b()/3;break;case l:p=(g-$)/6048e5;break;case o:p=(g-$)/864e5;break;case s:p=g/n;break;case i:p=g/t;break;case a:p=g/e;break;default:p=g}return h?p:D.a(p)},v.daysInMonth=function(){return this.endOf(u).$D},v.$locale=function(){return b[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=x(e,t,!0);return r&&(n.$L=r),n},v.clone=function(){return D.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},y}(),M=S.prototype;return k.prototype=M,[["$ms",r],["$s",a],["$m",i],["$H",s],["$W",o],["$M",u],["$y",d],["$D",f]].forEach((function(e){M[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),k.extend=function(e,t){return e.$i||(e(t,S,k),e.$i=!0),k},k.locale=x,k.isDayjs=w,k.unix=function(e){return k(1e3*e)},k.en=b[g],k.Ls=b,k.p={},k}))}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}!function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p=""}();var r={};return function(){"use strict";if(n.r(r),n.d(r,{default:function(){return D}}),"undefined"!==typeof window){var e=window.document.currentScript,t=e&&e.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);t&&(n.p=t[1])}var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"taskman-base-search"},[t("div",{staticClass:"taskman-base-search-form",style:{maxHeight:e.expand?"200px":"45px"}},[t("Form",{attrs:{inline:!0,model:e.value,"label-position":"right"}},[e._l(e.configList,(function(n,r){return[n.hidden?e._e():t("FormItem",{key:r,attrs:{prop:n.key}},[t("div",{staticStyle:{display:"flex","align-items":"center"}},[n.label?t("span",[e._v(e._s(n.label)+"：")]):e._e(),"input"===n.component?t("Input",{style:{width:n.width||"200px"},attrs:{placeholder:n.placeholder,clearable:""},model:{value:e.value[n.key],callback:function(t){e.$set(e.value,n.key,"string"===typeof t?t.trim():t)},expression:"value[i.key]"}}):e._e(),"null-input"===n.component?t("div",{staticClass:"null-input"},[t("Select",{staticStyle:{width:"90px","margin-right":"-4px"},attrs:{slot:"prepend"},on:{"on-change":function(t){return e.handleNullTypeChange(t,n)}},slot:"prepend",model:{value:n.nullType,callback:function(t){e.$set(n,"nullType",t)},expression:"i.nullType"}},[t("Option",{attrs:{value:"yes"}},[e._v(e._s(e.$t("tw_empty_search")))]),t("Option",{attrs:{value:"no"}},[e._v(e._s(e.$t("tw_normal_search")))])],1),"no"===n.nullType?t("Input",{style:{width:"200px"},attrs:{placeholder:n.placeholder,clearable:""},model:{value:e.value[n.key],callback:function(t){e.$set(e.value,n.key,"string"===typeof t?t.trim():t)},expression:"value[i.key]"}}):t("Input",{style:{width:"200px"},attrs:{value:"",placeholder:n.placeholder,disabled:""}})],1):"select"===n.component?t("Select",{style:{width:n.width||"200px"},attrs:{placeholder:n.placeholder,clearable:"",multiple:n.multiple||!1,filterable:n.filterable||!0,"max-tag-count":1},model:{value:e.value[n.key],callback:function(t){e.$set(e.value,n.key,t)},expression:"value[i.key]"}},[e._l(n.list,(function(n,r){return[t("Option",{key:r,attrs:{value:n.value}},[e._v(e._s(n.label))])]}))],2):"tag-select"===n.component?t("Select",{style:{width:n.width||"200px"},attrs:{placeholder:n.placeholder,clearable:"",multiple:n.multiple||!1,filterable:n.filterable||!0,"max-tag-count":1},model:{value:e.value[n.key],callback:function(t){e.$set(e.value,n.key,t)},expression:"value[i.key]"}},[e._l(n.list,(function(n,r){return[t("Option",{key:r,attrs:{value:n.value,label:n.label}},[t("div",{style:{backgroundColor:n.color,padding:"4px 15px",width:"fit-content",color:"#fff",borderRadius:"4px"}},[e._v(" "+e._s(n.label)+" ")])])]}))],2):"remote-select"===n.component?t("Select",{style:{width:n.width||"200px"},attrs:{placeholder:n.placeholder,clearable:"",multiple:n.multiple||!1,filterable:n.filterable||!0,"max-tag-count":1},on:{"on-open-change":function(t){return e.getRemoteData(n)}},model:{value:e.value[n.key],callback:function(t){e.$set(e.value,n.key,t)},expression:"value[i.key]"}},[e._l(n.list,(function(n,r){return[t("Option",{key:r,attrs:{value:n.value}},[e._v(e._s(n.label))])]}))],2):"radio-group"===n.component?t("RadioGroup",{staticStyle:{"margin-right":"32px"},on:{"on-change":e.handleSearch},model:{value:e.value[n.key],callback:function(t){e.$set(e.value,n.key,t)},expression:"value[i.key]"}},e._l(n.list,(function(n,r){return t("Radio",{key:r,attrs:{label:n.value,border:""}},[e._v(e._s(n.label))])})),1):"custom-time"===n.component?t("div",{staticClass:"custom-time"},[4!==n.dateType?t("RadioGroup",{staticStyle:{"margin-top":"-2px"},attrs:{type:"button",size:"small"},on:{"on-change":function(t){return e.handleDateTypeChange(n.key,n.dateType)}},model:{value:n.dateType,callback:function(t){e.$set(n,"dateType",t)},expression:"i.dateType"}},e._l(e.dateTypeList,(function(n,r){return t("Radio",{key:r,attrs:{label:n.value,border:""}},[e._v(e._s(n.label))])})),1):t("div",[t("DatePicker",{staticStyle:{width:"200px"},attrs:{value:e.value[n.key],type:"daterange",placement:"bottom-end",format:"yyyy-MM-dd",placeholder:n.label},on:{"on-change":t=>{e.handleDateRange(t,n.key)}}}),t("Icon",{staticStyle:{cursor:"pointer"},attrs:{size:"18",type:"md-close-circle"},on:{click:function(t){n.dateType=1,e.handleDateTypeChange(n.key,1)}}})],1)],1):e._e()],1)])]}))],2)],1),t("div",{staticClass:"taskman-base-search-button"},[t("Icon",{directives:[{name:"show",rawName:"v-show",value:!e.expand,expression:"!expand"}],staticStyle:{cursor:"pointer","margin-right":"10px"},attrs:{size:"28",color:"#2d8cf0",type:"ios-arrow-down"},on:{click:e.handleExpand}}),t("Icon",{directives:[{name:"show",rawName:"v-show",value:e.expand,expression:"expand"}],staticStyle:{cursor:"pointer","margin-right":"10px"},attrs:{size:"28",color:"#2d8cf0",type:"ios-arrow-up"},on:{click:e.handleExpand}}),t("Button",{attrs:{size:"small",type:"primary"},on:{click:e.handleSearch}},[e._v(e._s(e.$t("search")))]),t("Button",{staticStyle:{"margin-left":"5px"},attrs:{size:"small"},on:{click:e.handleReset}},[e._v(e._s(e.$t("reset")))])],1)])},i=[],s=n(394),o=n.n(s);const l=e=>{let t=Array.isArray(e)?[]:{};if(e&&"object"===typeof e)for(let n in e)e.hasOwnProperty(n)&&(e[n]&&"object"===typeof e[n]?t[n]=l(e[n]):t[n]=e[n]);return t};var u={name:"BaseSearch",props:{value:{type:Object,default:()=>{}},options:{type:Array,default:()=>[]}},computed:{formData(){return this.value}},watch:{options:{handler(e){e&&e.length&&(this.configList=e)},immediate:!0,deep:!0}},data(){return{expand:!1,dateTypeList:[{label:"近三个月",value:1},{label:"近半年",value:2},{label:"近一年",value:3},{label:"自定义",value:4}],configList:[]}},methods:{handleExpand(){this.expand=!this.expand},handleSearch(){this.configList.forEach((e=>{if("null-input"===e.component&&"yes"===e.nullType){const t=l(this.value);t[e.key]="WeCube-empty-search",this.$emit("input",t)}})),this.$emit("search")},handleReset(){const e={};Object.keys(this.formData).forEach((t=>{Array.isArray(this.formData[t])?e[t]=[]:e[t]="",this.configList.forEach((e=>{"custom-time"===e.component&&e.initValue?e.dateType=1:e.dateType=4,"null-input"===e.component&&(e.nullType="no")}));const n=this.configList.filter((e=>void 0!==e.initValue));n.forEach((t=>{e[t.key]=t.initValue}))})),this.$emit("input",e),this.handleSearch()},handleDateTypeChange(e,t){this.formData[e]=[];const n=o()().format("YYYY-MM-DD");if(1===t){const t=o()().subtract(3,"month").format("YYYY-MM-DD");this.formData[e]=[t,n]}else if(2===t){const t=o()().subtract(6,"month").format("YYYY-MM-DD");this.formData[e]=[t,n]}else if(3===t){const t=o()().subtract(1,"year").format("YYYY-MM-DD");this.formData[e]=[t,n]}else 4===t&&(this.formData[e]=[]);this.$emit("input",this.formData)},handleDateRange(e,t){this.formData[t]=[...e],this.$emit("input",this.formData)},async getRemoteData(e){const t=await e.remote();this.$set(e,"list",t)},handleNullTypeChange(e,t){if("no"===e&&"WeCube-empty-search"===this.value[t.key]){const e=l(this.value);e[t.key]="",this.$emit("input",e)}}}},c=u;function d(e,t,n,r,a,i,s,o){var l,u="function"===typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),s?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),a&&a.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=l):a&&(l=o?function(){a.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:a),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:u}}var f=d(c,a,i,!1,null,null,null),h=f.exports;h.install=function(e){e.component(h.name,h)};var p=h,m=function(){var e=this,t=e._self._c;return t("div",{staticClass:"common-ui-scroll-tag",on:{mouseenter:function(t){return e.handleMouseEnter(t)},mouseleave:function(t){return e.handleMouseLeave(t)}}},e._l(e.list,(function(n,r){return t("div",{key:r,staticClass:"tag"},[e._v(" "+e._s(n)+" ")])})),0)},y=[],v={name:"BaseScrollTag",props:{list:{type:Array,default:()=>[]}},methods:{handleMouseEnter(e){e.target.style.overflowY="scroll"},handleMouseLeave(e){e.target.style.overflowY="hidden"}}},$=v,g=d($,m,y,!1,null,"dfb6d1b4",null),b=g.exports;b.install=function(e){e.component(b.name,b)};var _=b;const w=[p,_],x=function(e){x.installed||w.map((t=>e.component(t.name,t)))};"undefined"!==typeof window&&window.Vue&&x(window.Vue);var k={install:x,BaseSearch:p,BaseScrollTag:_},D=k}(),r}()}));
//# sourceMappingURL=wecube-common-ui.umd.min.js.map